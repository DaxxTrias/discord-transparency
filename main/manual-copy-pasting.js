(()=>{"use strict";function e({elementName:e,appendTo:t,htmlProps:n}){const o=document.createElement(e);for(const[e,t]of Object.entries(n))o[e]=t;return t.appendChild(o),o}function t(e){return`ðŸ›‘ Oh no, there's been an error. If you see this, join the support server, and report the error. [[${e}]]`}function n({text:t,timeout:n,containsHTML:o=!1}){const r=e({elementName:"div",appendTo:document.body,htmlProps:{className:"TRANSPARENCY__ALERT",[o?"innerHTML":"textContent"]:t}});return new Promise((e=>{setTimeout((()=>{r.classList.add("TRANSPARENCY__ALERT--INACTIVE"),setTimeout((()=>{r.remove(),e(!0)}),1e3)}),n)}))}const o=[{name:"Change the background image",execute({parentBox:t,props:{mainStylesheet:n}}){const o=e({elementName:"input",appendTo:t,htmlProps:{className:"TRANSPARENCY__ACTION-INPUT",placeholder:"Paste image link here",onkeydown:e=>function({event:e,backgroundChangerInput:t,mainStylesheet:n}){const o=t.value;"Enter"===e.code&&""!==o.trim()&&(n.innerHTML+=`#app-mount{background: url(${o}) center center no-repeat !important; background-size: cover !important;}`,window.localStorage.setItem("bgImg",o))}({event:e,backgroundChangerInput:o,mainStylesheet:n})}});e({elementName:"p",appendTo:t,htmlProps:{id:"TRANSPARENCY__ACTION-WARNING",textContent:"ðŸ›‘ The image you want as your background must be sent as a message on Discord. You will have to click on the image, press on <Open original>, and copy the link from there."}})}},{name:"Change the brightness level",execute({parentBox:t,props:{isDarkTheme:o,brightnessLevel:r,overlayDarkenerElement:a,overlayBarElement:i}}){const s=o?"0,0,0":"255,255,255",l=e({elementName:"h3",appendTo:t,htmlProps:{id:"TRANSPARENCY__ACTION-BRIGHTNESS-LEVEL",textContent:`Level: ${r.value}`}}),c=e({elementName:"input",appendTo:t,htmlProps:{className:"TRANSPARENCY__ACTION-INPUT",type:"range",min:"0",max:"9",value:`${r.value}`,oninput:()=>function({brightnessLevel:e,overlayColor:t,brightnessIndicator:n,brightnessLevelSlider:o,overlayBarElement:r,overlayDarkenerElement:a}){a.style.backgroundColor=`rgba(${t}, .${o.value})`,null!==r&&(r.style.backgroundColor=`rgba(${t}, .${o.value})`),e.value=parseInt(o.value),n.textContent=`Level: ${e.value}`}({brightnessLevel:r,overlayColor:s,brightnessIndicator:l,brightnessLevelSlider:c,overlayBarElement:i,overlayDarkenerElement:a})}});e({elementName:"button",appendTo:t,htmlProps:{id:"TRANSPARENCY__ACTION-SAVE-BRIGHTNESS",textContent:"Save brightness level",onclick:()=>function(e){window.localStorage.setItem("brghtns",`${e.value}`),n({text:`Brightness level updated! Now it is at level <b>${e.value}</b>.`,containsHTML:!0,timeout:3e3})}(r)}})}}];function r({action:e,actionToggler:t,actionProps:n}){t.classList.add("TRANSPARENCY__ACTION--ACTIVE"),t.textContent="",e.execute({parentBox:t,props:n}),t.onclick=null}const a="typeWindows-2-g3UY.withFrame-2dL45i.titleBar-1it3bQ.horizontalReverse-2QssvL.flex-3BkGQD.directionRowReverse-HZatnx.justifyStart-2Mwniq.alignStretch-Uwowzr";function i(e){const n=document.querySelector(e);return null===n?(alert(t(`${e} is not in the DOM.`)),null):n}!function(){!function(){const n=e({elementName:"iframe",appendTo:document.body,htmlProps:{}});n.style.display="none",n.contentWindow?window.localStorage=n.contentWindow.localStorage:alert(t("Could not create localStorage object because iframe's contentWindow isn't defined."))}();const s=document.querySelector(`.${a}`),l=i(".app-3xd6d0"),c=document.documentElement.classList.contains("theme-dark");let d;if(null!==s)d=!c&&s.classList.contains("theme-dark");else{const e=i(".bg-1QIAus");null!==e&&(d=!c&&e.classList.contains("theme-dark"))}const p={value:parseInt(window.localStorage.getItem("brghtns")||"9")||9},m=function({isDarkTheme:e,brightnessLevel:t,backgroundImageURL:n}){const o=e?`rgba(0, 0, 0, 0.${t.value})`||"rgba(0,0,0,0.9)":`rgba(255, 255, 255, 0.${t.value})`||"rgba(255,255,255,0.7)";return`.theme-dark, .theme-light {--background-primary:transparent;--background-secondary:transparent;--background-tertiary:transparent;--channeltextarea-background:transparent;--deprecated-panel-background:transparent;--background-secondary-alt:transparent;--scrollbar-auto-track:transparent;}.theme-dark {--scrollbar-auto-thumb:rgba(255,255,255,0.3);}.theme-light {--scrollbar-auto-thumb:rgba(0,0,0,0.6);}#app-mount {background:url(${n}) center center no-repeat;background-size:cover;}.${a}{margin-top:0;padding-top:4px;background:${o};}.app-3xd6d0{background-color: ${o};}.container-2cd8Mz, .applicationStore-2nk7Lo, .background-fkKrXt {background-color:transparent !important;}.popout-TdhJ6Z, .container-18GwIk, .popout-VcNcHB,.container-2O1UgZ, .container-2RRFHK, .popoutContainer-1MXdqN,.root-SR8cQa, .quickswitcher-pKcM9U, .code.inline, .markup-2BOw-j code, code, .attachment-1PZZB2,.recentMentionsPopout-3rCiI6, .channelHeader-3Gd2xq, .container-2ebMPP.recentMentionsPopout-2bI1ZN, .contentWrapper-3vHNP2, .reaction-3vwAF2,.emojiPicker-6YCk8a, .wrapper-2vIMkT, .messagesPopoutWrap-3zryHW,.searchResultsWrap-5RVOkx, .container-3XgAHv, .embedFull-1HGV2S, .wrapper-1HIH0j, .popout-1KHNAq {background-color:${e?"rgba(0,0,0,0.78)":"rgba(255,255,255,0.85)"} !important;}div[class=groupStart-3Mlgv1]:not(.message-2CShn3) {display: none;}#TRANSPARENCY__ACTIONS {font-family: "Whitney", "Helvetica Neue", "Helvetica", monospace, "Arial", sans-serif;width: 30%;height: 100%;background-color: rgba(0,0,0,0.6);position: absolute;right: 0;z-index: 200;backdrop-filter: blur(8px);transform: translateX(100%);transition: transform 500ms ease;}.TRANSPARENCY__ACTIONS--SLIDE-IN {transform: translateX(0) !important;}.TRANSPARENCY__ALERT {position: absolute;left: 0px;right: 0px;margin: auto;padding: 20px;font-size: 14px;width: fit-content;width: -moz-fit-content;max-width: 450px;background-color: rgba(0,0,0,0.6);backdrop-filter: blur(8px);color: white;border-bottom-right-radius: 20px;border-bottom-left-radius: 20px;z-index: 10000;box-shadow: 0px 13px 10px -5px rgba(0,0,0,0.5);transition: transform 500ms ease;animation: TRANSPARENCY__ALERT-SLIDE 500ms ease;}@keyframes TRANSPARENCY__ALERT-SLIDE {from { transform: translateY(-130%); }to { transform: translateY(0) }}.TRANSPARENCY__ALERT--INACTIVE {transform: translateY(-130%);}.TRANSPARENCY__FADE-IN {animation: fadeIn 500ms ease forwards;}@keyframes fadeIn {to { opacity: 1; }}`}({backgroundImageURL:window.localStorage.getItem("bgImg")||"",brightnessLevel:p,isDarkTheme:c});!function(){const e=document.getElementById("TRANSPARENCY");null!==e&&(window.onkeydown=null,e.remove())}();const u=e({elementName:"style",appendTo:document.head,htmlProps:{id:"TRANSPARENCY",innerHTML:m}});n({text:"Welcome! <br><br>To toggle the actions panel, press <b>CTRL + SHIFT + X</b><br>To toggle the theme, press <b>CTRL + D</b>",timeout:1e4,containsHTML:!0}).then((()=>{d&&n({text:"<b>ðŸ›‘ Warning</b><br><br>Your sidebar is currently dark themed.<br>For proper text visibility, disable its dark theme in Settings > Appearance. <u>No need to refresh</u>.",timeout:1e4,containsHTML:!0})})),window.onkeydown=n=>{if(n.ctrlKey)if(n.shiftKey&&"KeyX"===n.code){n.preventDefault();try{!function({actions:t,props:n}){const o=document.getElementById("TRANSPARENCY__ACTIONS");if(null!==o)return o.classList.remove("TRANSPARENCY__ACTIONS--SLIDE-IN"),void setTimeout((()=>o.remove()),1e3);const a=e({elementName:"div",appendTo:document.body,htmlProps:{id:"TRANSPARENCY__ACTIONS"}});null!==n.overlayBarElement&&(a.style.paddingTop="20px"),setTimeout((()=>a.classList.add("TRANSPARENCY__ACTIONS--SLIDE-IN")),0),e({elementName:"style",appendTo:a,htmlProps:{innerHTML:".TRANSPARENCY__ACTION {min-height: 200px;background-color: rgba(0, 0, 0, 0.5);margin: 10px;color: white;cursor: pointer;display: flex;flex-direction: column;justify-content: center;align-items: center;transition: background-color 300ms linear;}.TRANSPARENCY__ACTION--ACTIVE {background-color: rgba(0, 0, 0, 0.8);cursor: initial;}.TRANSPARENCY__ACTION-INPUT {box-sizing: border-box;text-align: center;height: 40px;width: 85%;margin: 10px 0 0;border: 0;background-color: rgba(255, 255, 255, 0.1);border-radius: 50px;color: white;}.TRANSPARENCY__ACTION-INPUT:focus,#TRANSPARENCY__ACTION-SAVE-BRIGHTNESS:focus {outline: none;border: 2px solid dodgerblue;}#TRANSPARENCY__ACTION-BRIGHTNESS-LEVEL {margin: 0;opacity: 0.8;text-align: center;}#TRANSPARENCY__ACTION-WARNING {font-size: 11px;line-height: 20px;padding: 10px;color: white;max-width: 310px;margin: 10px 0 0;opacity: 0.8;}#TRANSPARENCY__ACTION-SAVE-BRIGHTNESS {height: 40px;padding: 0 15px;max-width: 300px;margin-top: 10px;border: 0;background-color: rgba(255, 255, 255, 0.1);border-radius: 50px;color: white;cursor: pointer;}"}});for(const o of t){const t=e({elementName:"div",appendTo:a,htmlProps:{className:"TRANSPARENCY__ACTION",textContent:o.name,onclick:()=>r({action:o,actionToggler:t,actionProps:n})}})}}({actions:o,props:{isDarkTheme:c,brightnessLevel:p,mainStylesheet:u,overlayDarkenerElement:l,overlayBarElement:s}})}catch(e){alert(t(e.message))}}else if("KeyD"===n.code){n.preventDefault();try{!function({isDarkTheme:e,brightnessLevel:t,mainStylesheet:n,overlayBarElement:o}){if(n.getAttribute("media"))return n.removeAttribute("media"),void(null!==o&&(o.style.backgroundColor=e?`rgba(0,0,0,0.${t.value}`:`rgba(255,255,255,0.${t.value}`));n.setAttribute("media","1px"),null!==o&&(o.style.backgroundColor="var(--color-tertiary)")}({mainStylesheet:u,isDarkTheme:c,brightnessLevel:p,overlayBarElement:s})}catch(e){alert(t(e.message))}}}}()})();